<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NewHomes — Dịch vụ (A4, Premium, Editable)</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Espresso & Khaki Luxe (2026) */
      --silhouette:#3D3635;
      --charcoal:#5C534E;
      --khaki:#B8A88A;
      --cloud:#F5F5F0;
      --espresso:#2C2826;
      --linen:#D6CFC4;

      /* UI */
      --ui-bg:#0f0f12;
      --ui-panel:rgba(255,255,255,.06);
      --ui-border:rgba(255,255,255,.10);

      /* Preview */
      --shadow:0 18px 50px rgba(44,40,38,.10);
      --radius:16px;

      /* Background controls */
      --bgOverlayOpacity:.92;
      --bgWarmth:.22;

      /* Editorial block controls */
      --edAlpha:.18;
      --edBlur:2px;
      --edLine:rgba(214,207,196,.78);
      --leftImgOpacity:.92;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family:"Montserrat",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--ui-bg);
      color:var(--espresso);
    }

    /* ===== App layout ===== */
    .app{
      min-height:100vh;
      display:grid;
      grid-template-columns: 410px 1fr;
      gap:18px;
      padding:18px;
    }
    .panel{
      background:var(--ui-panel);
      border:1px solid var(--ui-border);
      border-radius:var(--radius);
      padding:16px;
      color:rgba(255,255,255,.92);
      box-shadow:0 18px 45px rgba(0,0,0,.25);
    }
    .panel h2{
      margin:0 0 12px;
      font-size:14px;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-weight:800;
    }
    .group{
      margin-top:14px;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    label{
      display:block;
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:rgba(255,255,255,.70);
      margin-bottom:6px;
      font-weight:800;
    }
    input[type="text"], textarea, input[type="range"]{ width:100%; }
    input[type="text"], textarea{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:rgba(255,255,255,.92);
      border-radius:12px;
      padding:10px 11px;
      outline:none;
      font-size:13px;
    }
    textarea{ min-height:86px; resize:vertical; line-height:1.35; }
    input[type="file"]{
      width:100%;
      padding:10px 0 0;
      color:rgba(255,255,255,.82);
    }
    .btns{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    button{
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      color:rgba(255,255,255,.92);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:800;
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:12px;
    }
    button.primary{
      background:rgba(184,168,138,.25);
      border-color:rgba(184,168,138,.35);
    }

    .stage{
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:4px 0 30px;
      overflow:auto;
    }

    /* ===== A4 page ===== */
    .page{
      width:210mm;
      height:297mm;
      background:var(--cloud);
      box-shadow:var(--shadow);
      border-radius:0;
      position:relative;
      overflow:hidden;
    }

    /* Background */
    .bg{
      position:absolute;
      inset:0;
      z-index:0;
      overflow:hidden;
      background:var(--cloud);
    }
    .bg img{
      width:100%;
      height:100%;
      object-fit:cover;
      transform:scale(1.02);
      filter:saturate(.96) contrast(.98);
    }
    .bgOverlay{
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity: var(--bgOverlayOpacity);
      background:
        linear-gradient(90deg,
          rgba(245,245,240,.96) 0%,
          rgba(245,245,240,.88) 32%,
          rgba(245,245,240,.62) 58%,
          rgba(245,245,240,.34) 100%),
        radial-gradient(120% 80% at 18% 12%, rgba(184,168,138,var(--bgWarmth)) 0%, rgba(184,168,138,0) 56%),
        radial-gradient(120% 80% at 20% 92%, rgba(214,207,196,.18) 0%, rgba(214,207,196,0) 62%);
    }

    /* Safe area 15mm */
    .safe{
      position:absolute;
      inset:15mm;
      display:flex;
      flex-direction:column;
      z-index:2;
      height: calc(297mm - 30mm);
    }

    /* Header / Footer */
    .header{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:end;
      gap:10mm;
      padding-bottom:4mm;
      border-bottom:0.6pt solid rgba(214,207,196,.95);
      position:relative;
      flex:0 0 auto;
    }
    .header::after{
      content:"";
      position:absolute;
      left:0;
      bottom:-0.9pt;
      width:22mm;
      height:2.2pt;
      background: var(--khaki);
      opacity:.95;
    }
    .h-left{
      font-size:9pt;
      font-weight:800;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--silhouette);
    }
    .h-center{
      font-size:8.5pt;
      font-weight:600;
      letter-spacing:.10em;
      color:rgba(92,83,78,.88);
      white-space:nowrap;
    }
    .h-right{
      justify-self:end;
      display:flex;
      gap:2.2mm;
      align-items:baseline;
      font-size:9pt;
      font-weight:800;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--silhouette);
      white-space:nowrap;
    }
    .h-right .sep{ opacity:.55; }

    .footer{
      margin-top:auto;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding-top:4mm;
      border-top:0.6pt solid rgba(214,207,196,.95);
      color:rgba(92,83,78,.88);
      font-size:8.5pt;
      letter-spacing:.08em;
      flex:0 0 auto;
    }

    /* Content */
    .content{
      padding-top:10mm;
      flex:1 1 auto;
      min-height:0;
      display:grid;
      grid-template-columns: 76mm 1fr;  /* editorial left, services right */
      gap:10mm;
      align-items:stretch;             /* (B) both columns stretch to same height */
    }

    /* LEFT — editorial */
    .intro{
      display:flex;
      flex-direction:column;
      gap:5mm;
      height:100%;
      max-width:76mm;
      position:relative;
    }

    .eyebrow{
      font-size:9pt;
      font-weight:800;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(92,83,78,.86);
      display:flex;
      gap:10px;
      align-items:center;
      white-space:nowrap;
    }
    .eyebrow .rule{
      width:18mm;
      height:2.2pt;
      background:var(--khaki);
      border-radius:999px;
      opacity:.95;
      flex:0 0 auto;
    }
    .title{
      font-size:22.5pt;
      font-weight:800;
      letter-spacing:-0.01em;
      text-transform:uppercase;
      color:var(--espresso);
      line-height:1.04;
    }
    .sub{
      font-size:10.2pt;
      font-weight:500;
      color:var(--charcoal);
      line-height:1.55;
    }

    .micro{
      margin-top:1mm;
      padding-top:4mm;
      border-top:0.6pt solid rgba(214,207,196,.85);
      display:flex;
      flex-direction:column;
      gap:2.6mm;
    }
    .microLine{
      font-size:9.0pt;
      font-weight:600;
      color:rgba(44,40,38,.90);
      line-height:1.25;
      display:flex;
      gap:8px;
      align-items:flex-start;
    }
    .microDot{
      width:6px; height:6px;
      border-radius:999px;
      margin-top:5px;
      border:1px solid rgba(92,83,78,.55);
      background: rgba(184,168,138,.35);
      flex:0 0 auto;
    }

    /* Editorial block (fills bottom, makes column feel "designed") */
    .editorial{
      margin-top:auto;                 /* pushes to bottom to balance page */
      border:0.6pt solid var(--edLine);
      border-radius:16px;
      overflow:hidden;
      background: rgba(245,245,240,var(--edAlpha));
      backdrop-filter: blur(var(--edBlur));
      box-shadow: 0 12px 28px rgba(44,40,38,.06);
      display:flex;
      flex-direction:column;
      min-height:78mm;                 /* enough visual weight */
    }

    .edMedia{
      position:relative;
      height:34mm;                     /* photo strip */
      overflow:hidden;
      border-bottom:0.6pt solid rgba(214,207,196,.70);
      background:rgba(214,207,196,.20);
    }
    .edMedia img{
      width:100%;
      height:100%;
      object-fit:cover;
      opacity:var(--leftImgOpacity);
      filter:saturate(.95) contrast(.98);
      transform:scale(1.03);
    }
    .edMedia::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        linear-gradient(180deg, rgba(245,245,240,.06) 0%, rgba(245,245,240,.38) 100%),
        radial-gradient(120% 90% at 20% 10%, rgba(184,168,138,.18) 0%, rgba(184,168,138,0) 55%);
      pointer-events:none;
    }

    .edBody{
      padding:5.2mm 5.2mm 5.4mm;
      display:flex;
      flex-direction:column;
      gap:3.2mm;
    }
    .quoteRow{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .quoteMark{
      font-size:22pt;
      line-height:1;
      font-weight:800;
      color:rgba(61,54,53,.38);
      transform:translateY(-1mm);
      flex:0 0 auto;
    }
    .quoteText{
      font-size:11.2pt;
      font-weight:700;
      line-height:1.38;
      color:rgba(44,40,38,.92);
    }
    .edNote{
      font-size:9.3pt;
      font-weight:500;
      line-height:1.45;
      color:rgba(92,83,78,.90);
    }
    .edPills{
      margin-top:1mm;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }
    .pill{
      font-size:8.2pt;
      font-weight:700;
      letter-spacing:.08em;
      text-transform:uppercase;
      padding:6px 8px;
      border-radius:999px;
      border:0.6pt solid rgba(214,207,196,.80);
      background: rgba(245,245,240,.55);
      color:rgba(61,54,53,.86);
      white-space:nowrap;
    }

    /* RIGHT — service list (kept full-height distributed) */
    .svc{
      height:100%;
      display:flex;
      flex-direction:column;
      align-self:stretch;
    }
    .svcItem{
      flex:1 1 0;                      /* keeps full-height rhythm */
      display:grid;
      grid-template-columns: 18mm 1fr;
      gap:6mm;
      border-top:0.6pt solid rgba(214,207,196,.78);
      padding:4.8mm 0;
      align-content:center;            /* centers within each band */
    }
    .svcItem:first-child{ border-top:0; padding-top:0; }
    .svcItem:last-child{ padding-bottom:0; }

    .svcBadge{
      display:flex;
      flex-direction:column;
      gap:2.4mm;
      align-items:flex-start;
    }
    .svcNo{
      font-size:10pt;
      font-weight:800;
      letter-spacing:.18em;
      color:rgba(61,54,53,.92);
    }
    .svcIcon{
      width:26px; height:26px;
      display:grid; place-items:center;
      border-radius:10px;
      border:0.6pt solid rgba(214,207,196,.90);
      background: rgba(184,168,138,.10);
    }
    .svcIcon svg{
      width:16px; height:16px;
      stroke: var(--silhouette);
      opacity:.92;
      stroke-width:1.6;
      fill:none;
      stroke-linecap:round;
      stroke-linejoin:round;
    }

    .svcBody{
      display:flex;
      flex-direction:column;
      gap:2.2mm;
      min-width:0;
    }
    .svcTitle{
      font-size:12.8pt;
      font-weight:800;
      color:var(--espresso);
      line-height:1.12;
    }
    .svcMeta{
      font-size:9.2pt;
      font-weight:600;
      letter-spacing:.08em;
      color:rgba(92,83,78,.86);
      line-height:1.25;
    }
    .svcBullets{
      margin:1.2mm 0 0;
      padding:0;
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:2.0mm;
    }
    .svcBullets li{
      display:flex;
      gap:2.8mm;
      align-items:flex-start;
      font-size:9.8pt;
      font-weight:500;
      color:rgba(44,40,38,.92);
      line-height:1.35;
    }
    .svcBullets li::before{
      content:"";
      width:6px; height:6px;
      border-radius:999px;
      margin-top:5px;
      border:1px solid rgba(92,83,78,.52);
      background: rgba(184,168,138,.32);
      flex:0 0 auto;
    }

    /* Editable */
    [contenteditable="true"]{ outline:none; border-radius:6px; }
    [contenteditable="true"]:focus{
      box-shadow:0 0 0 2px rgba(184,168,138,.22);
      background:rgba(184,168,138,.10);
    }

    /* Print */
    @page { size:A4; margin:0; }
    @media print{
      html, body{
        width:210mm !important;
        height:297mm !important;
        margin:0 !important;
        padding:0 !important;
        background:#fff !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      .panel{ display:none !important; }
      .app{ display:block !important; padding:0 !important; margin:0 !important; background:#fff !important; }
      .stage{ padding:0 !important; margin:0 !important; background:#fff !important; overflow:visible !important; }
      .page{
        position:fixed !important;
        left:0 !important; top:0 !important;
        width:210mm !important; height:297mm !important;
        margin:0 !important;
        box-shadow:none !important;
      }
    }

    @media (max-width: 1150px){
      .app{ grid-template-columns:1fr; }
      .panel{ order:2; }
    }
  </style>
</head>

<body>
  <div class="app">

    <!-- DASHBOARD -->
    <aside class="panel">
      <h2>Services Editor (B — Editorial)</h2>

      <div class="group">
        <div class="row">
          <div>
            <label>Header trái</label>
            <input id="inHeaderLeft" type="text" value="DỊCH VỤ">
          </div>
          <div>
            <label>Header giữa</label>
            <input id="inHeaderCenter" type="text" value="NEWHOMES • 2026">
          </div>
        </div>

        <div class="row" style="margin-top:10px;">
          <div>
            <label>Section code</label>
            <input id="inSectionCode" type="text" value="03">
          </div>
          <div>
            <label>Page number</label>
            <input id="inPageNum" type="text" value="04">
          </div>
        </div>

        <div class="btns">
          <button class="primary" id="btnPrint">Export PDF (A4)</button>
          <button id="btnReset">Reset</button>
        </div>
      </div>

      <div class="group">
        <label>Background image (full page)</label>
        <input id="bgFile" type="file" accept="image/*">

        <div style="margin-top:10px;">
          <label>Overlay strength</label>
          <input id="bgOpacity" type="range" min="60" max="100" value="92">
        </div>

        <div style="margin-top:10px;">
          <label>Warmth (khaki glow)</label>
          <input id="bgWarmth" type="range" min="0" max="40" value="22">
        </div>
      </div>

      <div class="group">
        <label>Editorial image (left block)</label>
        <input id="leftImgFile" type="file" accept="image/*">
        <div style="margin-top:10px;">
          <label>Left image opacity</label>
          <input id="leftImgOpacity" type="range" min="60" max="100" value="92">
        </div>
      </div>

      <div class="group">
        <label>Eyebrow</label>
        <input id="inEyebrow" type="text" value="SERVICE OVERVIEW">

        <label style="margin-top:10px;">Title</label>
        <input id="inTitle" type="text" value="DỊCH VỤ TRỌN GÓI">

        <label style="margin-top:10px;">Subtitle</label>
        <textarea id="inSub">Thiết kế • Thi công • Sản xuất nội thất tại xưởng — tối ưu công năng, đồng bộ vật liệu, tiến độ rõ ràng.</textarea>
      </div>

      <div class="group">
        <label>Micro highlights (3 dòng)</label>
        <textarea id="inMicro">1 đầu mối triển khai từ thiết kế đến bàn giao
Chủ động vật liệu & tiến độ nhờ xưởng sản xuất
Hồ sơ rõ ràng, nghiệm thu theo hạng mục</textarea>
      </div>

      <div class="group">
        <label>Editorial quote</label>
        <textarea id="inQuote" style="min-height:70px;">Thiết kế là công năng được “đóng khung” bằng thẩm mỹ — và được hiện thực hoá bằng một quy trình chuẩn.</textarea>

        <label style="margin-top:10px;">Editorial note</label>
        <textarea id="inEdNote" style="min-height:78px;">NewHomes tập trung vào trải nghiệm sử dụng hằng ngày: lưu trữ đủ, thao tác thuận, vật liệu đúng chuẩn và tiến độ minh bạch. Mục tiêu cuối cùng là bàn giao một không gian “ở được ngay” và bền trong nhiều năm.</textarea>

        <label style="margin-top:10px;">Pills (1 dòng, cách nhau bằng dấu phẩy)</label>
        <input id="inPills" type="text" value="One-stop, QC tại xưởng, Nghiệm thu theo hạng mục, Tiến độ rõ ràng">
      </div>

      <div class="group">
        <label>Service 01</label>
        <input id="s1Title" type="text" value="Thiết kế nội thất">
        <input id="s1Meta" type="text" style="margin-top:10px;" value="Concept • 3D • Hồ sơ kỹ thuật">
        <textarea id="s1Bul" style="margin-top:10px;">Khảo sát hiện trạng & đo đạc
Layout công năng + phối cảnh 3D
Hồ sơ chi tiết để sản xuất & thi công</textarea>
      </div>

      <div class="group">
        <label>Service 02</label>
        <input id="s2Title" type="text" value="Thi công trọn gói">
        <input id="s2Meta" type="text" style="margin-top:10px;" value="Đội thi công • Quản lý tiến độ • Nghiệm thu">
        <textarea id="s2Bul" style="margin-top:10px;">Kế hoạch triển khai theo mốc tiến độ
Chuẩn vật liệu, nghiệm thu theo hạng mục
Bàn giao đúng cam kết, sạch & gọn</textarea>
      </div>

      <div class="group">
        <label>Service 03</label>
        <input id="s3Title" type="text" value="Sản xuất tại xưởng">
        <input id="s3Meta" type="text" style="margin-top:10px;" value="Chuẩn module • QC • Lắp đặt nhanh">
        <textarea id="s3Bul" style="margin-top:10px;">Gia công theo bản vẽ kỹ thuật
Kiểm soát chất lượng trước khi xuất xưởng
Lắp đặt nhanh, sai số thấp</textarea>
      </div>

      <div class="group">
        <label>Service 04</label>
        <input id="s4Title" type="text" value="Bảo hành & bảo trì">
        <input id="s4Meta" type="text" style="margin-top:10px;" value="Chính sách rõ ràng • Hỗ trợ nhanh">
        <textarea id="s4Bul" style="margin-top:10px;">Bảo hành theo hạng mục vật liệu/phụ kiện
Hỗ trợ xử lý nhanh trong quá trình sử dụng
Bảo trì định kỳ theo nhu cầu</textarea>
      </div>

      <div class="group">
        <label>Footer trái</label>
        <input id="inFooterLeft" type="text" value="NEWHOMES • 2026">
      </div>
    </aside>

    <!-- PREVIEW -->
    <main class="stage">
      <section class="page" aria-label="A4 Services Premium (Editorial)">
        <div class="bg" aria-hidden="true">
          <!-- default hero background -->
          <img id="bgImg" alt=""
               src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=2200&q=80">
          <div class="bgOverlay"></div>
        </div>

        <div class="safe">
          <!-- Header -->
          <div class="header">
            <div id="hLeft" class="h-left" contenteditable="true">DỊCH VỤ</div>
            <div id="hCenter" class="h-center" contenteditable="true">NEWHOMES • 2026</div>
            <div class="h-right">
              <span id="hSection" contenteditable="true">03</span>
              <span class="sep">•</span>
              <span id="hPage" contenteditable="true">04</span>
            </div>
          </div>

          <!-- Content -->
          <div class="content">
            <!-- Left -->
            <div class="intro">
              <div class="eyebrow">
                <span class="rule" aria-hidden="true"></span>
                <span id="vEyebrow" contenteditable="true">SERVICE OVERVIEW</span>
              </div>

              <div id="vTitle" class="title" contenteditable="true">DỊCH VỤ TRỌN GÓI</div>

              <div id="vSub" class="sub" contenteditable="true">
                Thiết kế • Thi công • Sản xuất nội thất tại xưởng — tối ưu công năng, đồng bộ vật liệu, tiến độ rõ ràng.
              </div>

              <div class="micro" aria-label="Highlights">
                <div class="microLine"><span class="microDot" aria-hidden="true"></span><span contenteditable="true" id="m1">1 đầu mối triển khai từ thiết kế đến bàn giao</span></div>
                <div class="microLine"><span class="microDot" aria-hidden="true"></span><span contenteditable="true" id="m2">Chủ động vật liệu & tiến độ nhờ xưởng sản xuất</span></div>
                <div class="microLine"><span class="microDot" aria-hidden="true"></span><span contenteditable="true" id="m3">Hồ sơ rõ ràng, nghiệm thu theo hạng mục</span></div>
              </div>

              <!-- Editorial bottom block (balances with full-height right column) -->
              <div class="editorial" aria-label="Editorial Signature">
                <div class="edMedia" aria-hidden="true">
                  <!-- default editorial image -->
                  <img id="leftImg" alt=""
                       src="https://images.unsplash.com/photo-1505693314120-0d443867891c?auto=format&fit=crop&w=1600&q=80">
                </div>
                <div class="edBody">
                  <div class="quoteRow">
                    <div class="quoteMark" aria-hidden="true">“</div>
                    <div id="qText" class="quoteText" contenteditable="true">
                      Thiết kế là công năng được “đóng khung” bằng thẩm mỹ — và được hiện thực hoá bằng một quy trình chuẩn.
                    </div>
                  </div>

                  <div id="edNote" class="edNote" contenteditable="true">
                    NewHomes tập trung vào trải nghiệm sử dụng hằng ngày: lưu trữ đủ, thao tác thuận, vật liệu đúng chuẩn và tiến độ minh bạch.
                    Mục tiêu cuối cùng là bàn giao một không gian “ở được ngay” và bền trong nhiều năm.
                  </div>

                  <div id="pills" class="edPills" aria-label="Value Pills"></div>
                </div>
              </div>
            </div>

            <!-- Right -->
            <div class="svc" aria-label="Service List (Full-height Rhythm)">
              <div class="svcItem">
                <div class="svcBadge">
                  <div class="svcNo" id="n1" contenteditable="true">01</div>
                  <div class="svcIcon" aria-hidden="true">
                    <svg viewBox="0 0 24 24">
                      <path d="M3 21h18"></path>
                      <path d="M7 17l10-10"></path>
                      <path d="M16 7l3 3"></path>
                      <path d="M6 18l-1 3 3-1"></path>
                    </svg>
                  </div>
                </div>
                <div class="svcBody">
                  <div id="t1" class="svcTitle" contenteditable="true">Thiết kế nội thất</div>
                  <div id="meta1" class="svcMeta" contenteditable="true">Concept • 3D • Hồ sơ kỹ thuật</div>
                  <ul id="b1" class="svcBullets"></ul>
                </div>
              </div>

              <div class="svcItem">
                <div class="svcBadge">
                  <div class="svcNo" id="n2" contenteditable="true">02</div>
                  <div class="svcIcon" aria-hidden="true">
                    <svg viewBox="0 0 24 24">
                      <path d="M3 10l9-7 9 7"></path>
                      <path d="M5 10v10h14V10"></path>
                      <path d="M9 20v-6h6v6"></path>
                    </svg>
                  </div>
                </div>
                <div class="svcBody">
                  <div id="t2" class="svcTitle" contenteditable="true">Thi công trọn gói</div>
                  <div id="meta2" class="svcMeta" contenteditable="true">Đội thi công • Quản lý tiến độ • Nghiệm thu</div>
                  <ul id="b2" class="svcBullets"></ul>
                </div>
              </div>

              <div class="svcItem">
                <div class="svcBadge">
                  <div class="svcNo" id="n3" contenteditable="true">03</div>
                  <div class="svcIcon" aria-hidden="true">
                    <svg viewBox="0 0 24 24">
                      <path d="M4 7h16"></path>
                      <path d="M4 12h16"></path>
                      <path d="M4 17h16"></path>
                      <path d="M7 7v10"></path>
                      <path d="M17 7v10"></path>
                    </svg>
                  </div>
                </div>
                <div class="svcBody">
                  <div id="t3" class="svcTitle" contenteditable="true">Sản xuất tại xưởng</div>
                  <div id="meta3" class="svcMeta" contenteditable="true">Chuẩn module • QC • Lắp đặt nhanh</div>
                  <ul id="b3" class="svcBullets"></ul>
                </div>
              </div>

              <div class="svcItem">
                <div class="svcBadge">
                  <div class="svcNo" id="n4" contenteditable="true">04</div>
                  <div class="svcIcon" aria-hidden="true">
                    <svg viewBox="0 0 24 24">
                      <path d="M20 7l-8 8-4-4"></path>
                      <path d="M7 21h10"></path>
                      <path d="M9 21v-4"></path>
                      <path d="M15 21v-4"></path>
                    </svg>
                  </div>
                </div>
                <div class="svcBody">
                  <div id="t4" class="svcTitle" contenteditable="true">Bảo hành & bảo trì</div>
                  <div id="meta4" class="svcMeta" contenteditable="true">Chính sách rõ ràng • Hỗ trợ nhanh</div>
                  <ul id="b4" class="svcBullets"></ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Footer -->
          <div class="footer">
            <div id="fLeft" contenteditable="true">NEWHOMES • 2026</div>
            <div id="fRight" contenteditable="true">04</div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    function setRootVar(name, val){
      document.documentElement.style.setProperty(name, val);
    }

    function bindText(inputId, elId, transformFn){
      $(inputId).addEventListener("input", (e) => {
        const v = e.target.value ?? "";
        const out = transformFn ? transformFn(String(v)) : String(v);
        $(elId).textContent = out;
      });
    }

    function setBullets(listId, raw){
      const lines = String(raw || "")
        .split(/\n+/)
        .map(s => s.trim())
        .filter(Boolean)
        .slice(0, 4); // keep premium spacing
      const ul = $(listId);
      ul.innerHTML = "";
      (lines.length ? lines : ["—"]).forEach(t => {
        const li = document.createElement("li");
        li.setAttribute("contenteditable","true");
        li.textContent = t;
        ul.appendChild(li);
      });
    }

    function renderPills(raw){
      const pills = String(raw || "")
        .split(",")
        .map(s => s.trim())
        .filter(Boolean)
        .slice(0, 6);
      const wrap = $("pills");
      wrap.innerHTML = "";
      (pills.length ? pills : ["One-stop"]).forEach(t => {
        const d = document.createElement("div");
        d.className = "pill";
        d.setAttribute("contenteditable","true");
        d.textContent = t;
        wrap.appendChild(d);
      });
    }

    // Header/footer
    bindText("inHeaderLeft", "hLeft", v => v.toUpperCase());
    bindText("inHeaderCenter", "hCenter");
    bindText("inSectionCode", "hSection", v => v.toUpperCase());
    $("inPageNum").addEventListener("input", (e) => {
      const vv = String(e.target.value || "").toUpperCase();
      $("hPage").textContent = vv;
      $("fRight").textContent = vv;
    });
    bindText("inFooterLeft", "fLeft");

    // Intro
    bindText("inEyebrow", "vEyebrow", v => v.toUpperCase());
    $("inTitle").addEventListener("input", (e) => {
      const v = String(e.target.value || "");
      $("vTitle").textContent = v.toUpperCase();
      document.title = "NewHomes — " + v;
    });
    $("inSub").addEventListener("input", (e) => $("vSub").textContent = String(e.target.value || ""));

    // Micro (3 lines)
    function syncMicro(){
      const lines = String($("inMicro").value || "")
        .split(/\n+/).map(s=>s.trim()).filter(Boolean);
      $("m1").textContent = lines[0] || "—";
      $("m2").textContent = lines[1] || "—";
      $("m3").textContent = lines[2] || "—";
    }
    $("inMicro").addEventListener("input", syncMicro);

    // Editorial
    $("inQuote").addEventListener("input", e => $("qText").textContent = String(e.target.value || ""));
    $("inEdNote").addEventListener("input", e => $("edNote").textContent = String(e.target.value || ""));
    $("inPills").addEventListener("input", e => renderPills(e.target.value));

    // Services
    bindText("s1Title","t1"); bindText("s2Title","t2"); bindText("s3Title","t3"); bindText("s4Title","t4");
    bindText("s1Meta","meta1"); bindText("s2Meta","meta2"); bindText("s3Meta","meta3"); bindText("s4Meta","meta4");

    $("s1Bul").addEventListener("input", e => setBullets("b1", e.target.value));
    $("s2Bul").addEventListener("input", e => setBullets("b2", e.target.value));
    $("s3Bul").addEventListener("input", e => setBullets("b3", e.target.value));
    $("s4Bul").addEventListener("input", e => setBullets("b4", e.target.value));

    // Background controls
    $("bgOpacity").addEventListener("input", (e) => {
      setRootVar("--bgOverlayOpacity", String(Number(e.target.value || 92) / 100));
    });
    $("bgWarmth").addEventListener("input", (e) => {
      setRootVar("--bgWarmth", String(Number(e.target.value || 22) / 100));
    });

    $("bgFile").addEventListener("change", (e) => {
      const file = e.target.files && e.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = () => { $("bgImg").src = reader.result; };
      reader.readAsDataURL(file);
    });

    // Left editorial image controls
    $("leftImgOpacity").addEventListener("input", (e) => {
      setRootVar("--leftImgOpacity", String(Number(e.target.value || 92) / 100));
    });

    $("leftImgFile").addEventListener("change", (e) => {
      const file = e.target.files && e.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = () => { $("leftImg").src = reader.result; };
      reader.readAsDataURL(file);
    });

    // Print & reset
    $("btnPrint").addEventListener("click", () => window.print());
    $("btnReset").addEventListener("click", () => location.reload());

    // Init
    setRootVar("--bgOverlayOpacity", "0.92");
    setRootVar("--bgWarmth", "0.22");
    setRootVar("--leftImgOpacity", "0.92");

    $("fRight").textContent = ($("inPageNum").value || "04").toUpperCase();
    $("vTitle").textContent = ($("inTitle").value || "DỊCH VỤ TRỌN GÓI").toUpperCase();
    $("vEyebrow").textContent = ($("inEyebrow").value || "SERVICE OVERVIEW").toUpperCase();
    $("vSub").textContent = $("inSub").value || "";

    $("qText").textContent = $("inQuote").value || $("qText").textContent;
    $("edNote").textContent = $("inEdNote").value || $("edNote").textContent;

    syncMicro();
    renderPills($("inPills").value);

    setBullets("b1", $("s1Bul").value);
    setBullets("b2", $("s2Bul").value);
    setBullets("b3", $("s3Bul").value);
    setBullets("b4", $("s4Bul").value);
  </script>
</body>
</html>
