<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NEWHOMES — Cover Builder (A4 Portrait)</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script defer src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <style>
    :root{
      --a4w: 794px;
      --a4h: 1123px;

      --bg:#ffffff;
      --ink:#141414;
      --muted:rgba(20,20,20,.62);
      --brown:#A47C54;
      --sand:#F3EEE7;
      --line:rgba(164,124,84,.18);

      --sidebar: 380px;
      --gap: 18px;

      /* Logo controls */
      --logoH: 34px;
      --logoMaxW: 180px;

      /* Frost level for bottom panels (0.00 -> 0.30) */
      --panelA: .14;
      --panelBorderA: .18;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family:"Montserrat",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1100px 720px at 16% 10%, rgba(164,124,84,.10), transparent 56%),
        radial-gradient(900px 600px at 82% 92%, rgba(215,196,174,.16), transparent 58%),
        var(--sand);
    }

    .app{ min-height:100%; display:flex; gap: var(--gap); padding: 18px; }

    /* ===== Sidebar ===== */
    .sidebar{
      width: var(--sidebar);
      min-width: var(--sidebar);
      background: rgba(255,255,255,.90);
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 0;
      box-shadow: 0 16px 50px rgba(0,0,0,.10);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      position: sticky;
      top: 18px;
      height: calc(100vh - 36px);
    }
    .sb-head{
      padding: 14px 14px 12px 14px;
      border-bottom: 1px solid rgba(0,0,0,.06);
      background:
        radial-gradient(800px 280px at 10% 0%, rgba(215,196,174,.20), transparent 55%),
        linear-gradient(180deg, rgba(243,238,231,.55), rgba(255,255,255,.92));
    }
    .sb-head .title{
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(20,20,20,.72);
      font-weight: 700;
      margin:0;
    }
    .sb-head .hint{
      margin:8px 0 0 0;
      font-size: 12.5px;
      line-height: 1.45;
      color: rgba(20,20,20,.62);
    }
    .sb-body{ padding: 14px; overflow:auto; display:flex; flex-direction:column; gap: 14px; }

    .group{
      border: 1px solid rgba(164,124,84,.14);
      background: rgba(255,255,255,.82);
      border-radius: 0;
      padding: 12px;
    }
    .group h4{
      margin:0 0 10px 0;
      font-size: 11px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(20,20,20,.70);
    }

    .row{ display:grid; grid-template-columns: 1fr; gap: 8px; margin-bottom: 10px; }
    .row:last-child{ margin-bottom:0; }

    label{
      font-size: 11px;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: rgba(20,20,20,.55);
    }

    input[type="text"], input[type="url"], textarea, input[type="range"], select{
      width:100%;
      border: 1px solid rgba(0,0,0,.10);
      background: #fff;
      padding: 10px 10px;
      border-radius: 0;
      font: inherit;
      font-size: 13px;
      outline:none;
    }
    input[type="range"]{ padding: 10px 0; }
    textarea{ min-height: 72px; resize: vertical; line-height: 1.45; }
    input[type="file"]{
      display:block !important;
      width:100% !important;
      padding: 10px 10px !important;
      border: 1px solid rgba(0,0,0,.10) !important;
      background:#fff !important;
      border-radius:0 !important;
      font: inherit !important;
      font-size: 13px !important;
    }

    .inline2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }

    .btnbar{ display:flex; gap: 10px; margin-top: 8px; }
    .btn{
      flex:1;
      border: 1px solid rgba(0,0,0,.10);
      background: #fff;
      padding: 10px 12px;
      border-radius: 0;
      cursor:pointer;
      font-weight: 700;
      letter-spacing:.06em;
      font-size: 12px;
    }
    .btn.primary{
      border-color: rgba(164,124,84,.28);
      background: linear-gradient(180deg, rgba(164,124,84,.14), rgba(164,124,84,.06));
      color: rgba(20,20,20,.84);
    }
    .btn:active{ transform: translateY(1px); }
    .note{ margin: 10px 0 0 0; font-size: 12px; color: rgba(20,20,20,.55); line-height: 1.45; }

    /* ===== Preview ===== */
    .previewWrap{
      flex:1;
      min-width: 520px;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding: 6px 6px 18px 6px;
      overflow:auto;
    }

    .page{
      width: var(--a4w);
      height: var(--a4h);
      background: var(--bg);
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 0;
      position:relative;
      overflow:hidden;
      box-shadow: 0 24px 70px rgba(0,0,0,.14);
      display:grid;
      grid-template-rows: 74% 26%;
      padding: 18px;
      isolation: isolate;
    }
    .page::before{
      content:"";
      position:absolute;
      inset: 18px;
      border: 1px solid var(--line);
      pointer-events:none;
      z-index: 50;
    }

    /* Full-page hero background (covers BOTH top + bottom) */
    .pageBg{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:0;
      transform: scale(1.01);
    }

    /* Global shade so transitions feel smooth and bottom stays readable while still seeing hero */
    .pageShade{
      position:absolute;
      inset:0;
      z-index:1;
      background:
        linear-gradient(180deg,
          rgba(0,0,0,.12) 0%,
          rgba(0,0,0,.08) 18%,
          rgba(255,255,255,.00) 52%,
          rgba(255,255,255,.26) 70%,
          rgba(255,255,255,.42) 100%);
      pointer-events:none;
    }

    .hero{
      position:relative;
      z-index:2;
      overflow:hidden;
      background: transparent;
      border: 0;
    }

    .bottom{
      position:relative;
      z-index:2;
      overflow:hidden;
      border: 0;
      background: transparent;
      padding: 12px 12px 12px 12px;
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 12px;
    }

    .topbar{
      position:absolute;
      top: 14px; left: 14px; right: 14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      z-index: 10;
    }

    .plain{
      display:inline-flex;
      align-items:center;
      gap: 12px;
      padding: 0;
      background: transparent;
      border: 0;
      box-shadow: none;
      white-space:nowrap;
    }

    /* Logo image: truly bare (no wrapper) */
    .logoImg{
      height: var(--logoH);
      width:auto;
      max-width: var(--logoMaxW);
      object-fit:contain;
      display:none;
      filter: drop-shadow(0 12px 18px rgba(0,0,0,.22));
    }
    .logoImg.is-on{ display:block; }

    .brand{
      display:flex;
      flex-direction:column;
      line-height:1.05;
      text-shadow: 0 10px 18px rgba(0,0,0,.30);
    }
    .brand b{
      font-size: 12px;
      letter-spacing: .22em;
      text-transform: uppercase;
      font-weight: 700;
      color: rgba(255,255,255,.96);
    }
    .brand span{
      margin-top: 2px;
      font-size: 10.8px;
      color: rgba(255,255,255,.80);
      letter-spacing: .02em;
    }

    /* 2026 needs background (glass) */
    .editionPill{
      display:inline-flex;
      align-items:center;
      padding: 8px 12px;
      background: rgba(255,255,255,.36);
      border: 1px solid rgba(255,255,255,.42);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
      color: rgba(20,20,20,.68);
      letter-spacing: .18em;
      text-transform: uppercase;
      font-size: 11px;
      font-weight: 600;
      backdrop-filter: blur(6px);
    }

    .titleWrap{
      position:absolute;
      left: 18px; right: 18px; bottom: 18px;
      z-index: 10;
      display:grid;
      gap: 10px;
      max-width: 980px;
    }
    .kicker{
      display:flex; align-items:center; gap:10px;
      font-size: 11px;
      letter-spacing: .20em;
      text-transform: uppercase;
      color: rgba(255,255,255,.86);
      text-shadow: 0 12px 20px rgba(0,0,0,.30);
    }
    .kicker::before{
      content:"";
      width: 34px; height: 1px;
      background: rgba(255,255,255,.78);
    }
    .h1{
      margin:0;
      font-size: 46px;
      line-height: 1.04;
      font-weight: 700;
      color: rgba(255,255,255,.96);
      text-shadow: 0 16px 26px rgba(0,0,0,.30);
    }
    .sub{
      margin:0;
      font-size: 13px;
      line-height: 1.6;
      color: rgba(255,255,255,.82);
      text-shadow: 0 16px 26px rgba(0,0,0,.26);
      max-width: 740px;
    }
    .accentLine{
      width: 180px;
      height: 3px;
      background: linear-gradient(90deg, rgba(164,124,84,.95), rgba(215,196,174,.55));
      margin-top: 4px;
    }

    /* Softer bottom “panels” (not chunky cards) */
    .ctaLeft, .ctaRight{
      border: 1px solid rgba(255,255,255, var(--panelBorderA));
      background: rgba(255,255,255, var(--panelA));
      box-shadow: 0 14px 30px rgba(0,0,0,.10);
      backdrop-filter: blur(10px);
      padding: 12px;
    }

    .ctaLeft{
      display:flex;
      gap: 12px;
      align-items:center;
      min-width: 0;
    }

    .qrBox{
      width: 108px;
      height: 108px;
      border: 1px solid rgba(255,255,255,.24);
      background: rgba(255,255,255,.14);
      overflow:hidden;
      box-shadow: 0 12px 24px rgba(0,0,0,.10);
      display:grid;
      place-items:center;
      flex: 0 0 auto;
      backdrop-filter: blur(8px);
    }
    .qrBox img{ width:100%; height:100%; object-fit:cover; display:block; }

    .ctaText{ display:flex; flex-direction:column; gap: 6px; min-width: 0; }
    .ctaText .t{
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(20,20,20,.74);
      font-weight: 700;
    }
    .ctaText .d{
      font-size: 13px;
      line-height: 1.55;
      color: rgba(20,20,20,.70);
      max-width: 420px;
    }

    .ctaRight{
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap: 8px;
    }
    .ctarow{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap: 12px;
      padding: 9px 10px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      backdrop-filter: blur(8px);
    }
    .ctarow .k{
      font-size: 11px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(20,20,20,.56);
      white-space:nowrap;
    }
    .ctarow .v{
      font-size: 13px;
      font-weight: 700;
      color: rgba(20,20,20,.82);
      white-space:nowrap;
    }

    .minifoot{
      margin-top: 2px;
      font-size: 11px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: rgba(20,20,20,.52);
      display:flex;
      justify-content:space-between;
      gap: 10px;
      padding: 0 2px;
    }
    .minifoot b{
      color: rgba(20,20,20,.72);
      font-weight: 700;
      letter-spacing: .10em;
    }

    @page { size: A4 portrait; margin: 0; }
    @media print{
      body{ background:#fff; }
      .sidebar{ display:none !important; }
      .app{ padding:0; }
      .previewWrap{ padding:0; }
      .page{
        width: 210mm;
        height: 297mm;
        border:none;
        box-shadow:none;
        padding: 18mm;
      }
      .page::before{ inset: 18mm; }
    }

    @media (max-width: 1100px){
      .app{ flex-direction:column; }
      .sidebar{
        width: 100%;
        min-width: 0;
        position:relative;
        top:auto;
        height:auto;
      }
      .previewWrap{ justify-content:flex-start; }
    }
  </style>
</head>

<body>
  <div class="app">
    <!-- DASHBOARD -->
    <aside class="sidebar" aria-label="Dashboard">
      <div class="sb-head">
        <p class="title">Cover dashboard</p>
        <p class="hint">
          2026 có nền (pill). Bottom panels đã làm “frost” mờ để nhìn thấy hero phía sau, bỏ cảm giác chia 2 khúc.
        </p>
      </div>

      <div class="sb-body">
        <div class="group">
          <h4>Logo</h4>

          <div class="row">
            <label>Logo (Upload)</label>
            <input id="logoFile" type="file" accept="image/*" />
          </div>

          <div class="row">
            <label>Logo (URL)</label>
            <input id="logoUrl" type="url" placeholder="https://...png (transparent best)" />
          </div>

          <div class="inline2">
            <div class="row">
              <label>Logo height</label>
              <input id="logoH" type="range" min="22" max="60" step="1" value="34" />
            </div>
            <div class="row">
              <label>Logo max width</label>
              <input id="logoW" type="range" min="120" max="260" step="5" value="180" />
            </div>
          </div>

          <div class="btnbar">
            <button class="btn" id="btnClearLogo">Clear logo</button>
          </div>
        </div>

        <div class="group">
          <h4>Ảnh</h4>
          <div class="row">
            <label>Hero ảnh (Upload)</label>
            <input id="heroFile" type="file" accept="image/*" />
          </div>
          <div class="row">
            <label>Hero ảnh (URL)</label>
            <input id="heroUrl" type="url" placeholder="https://...jpg" />
          </div>
          <div class="row">
            <label>QR (Upload)</label>
            <input id="qrFile" type="file" accept="image/*" />
          </div>
          <div class="row">
            <label>QR (URL)</label>
            <input id="qrUrl" type="url" placeholder="https://...png" />
          </div>
        </div>

        <div class="group">
          <h4>Text</h4>
          <div class="row">
            <label>Brand name</label>
            <input id="brandName" type="text" value="NEWHOMES" />
          </div>
          <div class="row">
            <label>Brand tagline</label>
            <input id="brandTagline" type="text" value="Interior Design • Build • Production" />
          </div>

          <div class="inline2">
            <div class="row">
              <label>Kicker</label>
              <input id="kicker" type="text" value="Sale kit / Company profile" />
            </div>
            <div class="row">
              <label>Edition</label>
              <input id="edition" type="text" value="2026 Edition" />
            </div>
          </div>

          <div class="row">
            <label>Title line 1</label>
            <input id="title1" type="text" value="Thiết kế & thi công" />
          </div>
          <div class="row">
            <label>Title line 2</label>
            <input id="title2" type="text" value="nội thất trọn gói" />
          </div>
          <div class="row">
            <label>Subtitle</label>
            <textarea id="subtitle">Phong cách hiện đại, tối ưu công năng và chất lượng hoàn thiện cho căn hộ và nhà ở.</textarea>
          </div>
        </div>

        <div class="group">
          <h4>CTA</h4>
          <div class="row">
            <label>CTA title</label>
            <input id="ctaTitle" type="text" value="Liên hệ nhanh" />
          </div>
          <div class="row">
            <label>CTA description</label>
            <textarea id="ctaDesc">Quét QR Zalo OA để nhận tư vấn & báo giá theo nhu cầu trong 24h.</textarea>
          </div>

          <div class="inline2">
            <div class="row">
              <label>Hotline</label>
              <input id="hotline" type="text" value="09xx xxx xxx" />
            </div>
            <div class="row">
              <label>Website</label>
              <input id="website" type="text" value="newhomes.vn" />
            </div>
          </div>

          <div class="row">
            <label>Zalo OA</label>
            <input id="zalo" type="text" value="NewHomes Interior" />
          </div>

          <div class="inline2">
            <div class="row">
              <label>Footer left</label>
              <input id="footerLeft" type="text" value="NEWHOMES • Hanoi" />
            </div>
            <div class="row">
              <label>Footer right</label>
              <input id="footerRight" type="text" value="Interior • Fit-out" />
            </div>
          </div>
        </div>

        <div class="group">
          <h4>Xuất file</h4>
          <div class="btnbar">
            <button class="btn primary" id="btnExport">Export PDF (A4)</button>
            <button class="btn" id="btnPrint">Print</button>
          </div>
        </div>
      </div>
    </aside>

    <!-- PREVIEW -->
    <section class="previewWrap" aria-label="Preview">
      <div class="page" id="page">
        <img id="bgImg" class="pageBg" alt="Hero Background" crossorigin="anonymous" />
        <div class="pageShade" aria-hidden="true"></div>

        <div class="hero" id="hero">
          <div class="topbar">
            <div class="plain">
              <img id="logoImg" class="logoImg" alt="Logo" crossorigin="anonymous" />
              <div class="brand">
                <b id="pvBrandName">NEWHOMES</b>
                <span id="pvBrandTagline">Interior Design • Build • Production</span>
              </div>
            </div>

            <div class="editionPill" id="pvEdition">2026 Edition</div>
          </div>

          <div class="titleWrap">
            <div class="kicker" id="pvKicker">Sale kit / Company profile</div>
            <h1 class="h1">
              <span id="pvTitle1">Thiết kế &amp; thi công</span><br/>
              <span id="pvTitle2">nội thất trọn gói</span>
            </h1>
            <p class="sub" id="pvSubtitle">Phong cách hiện đại, tối ưu công năng và chất lượng hoàn thiện cho căn hộ và nhà ở.</p>
            <div class="accentLine" aria-hidden="true"></div>
          </div>
        </div>

        <div class="bottom" id="cta">
          <div class="ctaLeft">
            <div class="qrBox" aria-label="QR">
              <img id="qrImg" alt="QR" crossorigin="anonymous" />
            </div>
            <div class="ctaText">
              <div class="t" id="pvCtaTitle">Liên hệ nhanh</div>
              <div class="d" id="pvCtaDesc">Quét QR Zalo OA để nhận tư vấn &amp; báo giá theo nhu cầu trong 24h.</div>
            </div>
          </div>

          <div class="ctaRight">
            <div class="ctarow"><span class="k">Hotline</span><span class="v" id="pvHotline">09xx xxx xxx</span></div>
            <div class="ctarow"><span class="k">Website</span><span class="v" id="pvWebsite">newhomes.vn</span></div>
            <div class="ctarow"><span class="k">Zalo OA</span><span class="v" id="pvZalo">NewHomes Interior</span></div>
            <div class="minifoot">
              <span><b id="pvFooterLeft">NEWHOMES • Hanoi</b></span>
              <span id="pvFooterRight">Interior • Fit-out</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    function setText(id, value){
      const el = $(id);
      if(el) el.textContent = value ?? "";
    }

    function fileToDataURL(file){
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }

    function setHeroFromUrl(url){
      const img = $("bgImg");
      if(url){ img.crossOrigin="anonymous"; img.src = url; }
    }
    function setQrFromUrl(url){
      const img = $("qrImg");
      if(url){ img.crossOrigin="anonymous"; img.src = url; }
    }

    function showLogo(on){
      const img = $("logoImg");
      img.classList.toggle("is-on", !!on);
    }

    function clearLogo(){
      const img = $("logoImg");
      img.removeAttribute("src");
      showLogo(false);
      $("logoUrl").value = "";
      $("logoFile").value = "";
    }

    function setLogoSrc(src){
      const img = $("logoImg");
      img.onload = () => showLogo(true);
      img.onerror = () => showLogo(false);
      img.src = src;
    }

    function bind(){
      // Logo
      $("logoFile").addEventListener("change", async (e) => {
        const f = e.target.files?.[0];
        if(!f) return;
        const data = await fileToDataURL(f);
        setLogoSrc(data);
        $("logoUrl").value = "";
      });

      $("logoUrl").addEventListener("change", (e) => {
        const url = e.target.value.trim();
        if(url) setLogoSrc(url);
      });

      $("btnClearLogo").addEventListener("click", clearLogo);

      $("logoH").addEventListener("input", (e) => {
        document.documentElement.style.setProperty("--logoH", Number(e.target.value || 34) + "px");
      });

      $("logoW").addEventListener("input", (e) => {
        document.documentElement.style.setProperty("--logoMaxW", Number(e.target.value || 180) + "px");
      });

      // Text
      $("brandName").addEventListener("input", e => setText("pvBrandName", e.target.value));
      $("brandTagline").addEventListener("input", e => setText("pvBrandTagline", e.target.value));
      $("kicker").addEventListener("input", e => setText("pvKicker", e.target.value));
      $("edition").addEventListener("input", e => setText("pvEdition", e.target.value));

      $("title1").addEventListener("input", e => setText("pvTitle1", e.target.value));
      $("title2").addEventListener("input", e => setText("pvTitle2", e.target.value));
      $("subtitle").addEventListener("input", e => setText("pvSubtitle", e.target.value));

      $("ctaTitle").addEventListener("input", e => setText("pvCtaTitle", e.target.value));
      $("ctaDesc").addEventListener("input", e => setText("pvCtaDesc", e.target.value));
      $("hotline").addEventListener("input", e => setText("pvHotline", e.target.value));
      $("website").addEventListener("input", e => setText("pvWebsite", e.target.value));
      $("zalo").addEventListener("input", e => setText("pvZalo", e.target.value));
      $("footerLeft").addEventListener("input", e => setText("pvFooterLeft", e.target.value));
      $("footerRight").addEventListener("input", e => setText("pvFooterRight", e.target.value));

      // Images
      $("heroFile").addEventListener("change", async (e) => {
        const f = e.target.files?.[0];
        if(!f) return;
        const data = await fileToDataURL(f);
        $("bgImg").src = data;
        $("heroUrl").value = "";
      });

      $("qrFile").addEventListener("change", async (e) => {
        const f = e.target.files?.[0];
        if(!f) return;
        const data = await fileToDataURL(f);
        $("qrImg").src = data;
        $("qrUrl").value = "";
      });

      $("heroUrl").addEventListener("change", (e) => setHeroFromUrl(e.target.value.trim()));
      $("qrUrl").addEventListener("change", (e) => setQrFromUrl(e.target.value.trim()));

      // Export / Print
      $("btnPrint").addEventListener("click", () => window.print());
      $("btnExport").addEventListener("click", exportPDF);
    }

    function initDefaults(){
      setHeroFromUrl("https://source.unsplash.com/featured/2400x1600/?interior,luxury,ceiling,lighting");
      setQrFromUrl("https://api.qrserver.com/v1/create-qr-code/?size=420x420&margin=10&data=https%3A%2F%2Fzalo.me%2Fnewhomesinterior");
      showLogo(false);
    }

    async function exportPDF(){
      const page = $("page");
      await new Promise(r => setTimeout(r, 250));

      const canvas = await html2canvas(page, {
        scale: 3,
        useCORS: true,
        allowTaint: false,
        backgroundColor: "#ffffff",
        logging: false
      });

      const imgData = canvas.toDataURL("image/jpeg", 0.98);
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({ orientation: "p", unit: "mm", format: "a4" });

      const pageW = 210, pageH = 297;
      const imgW = pageW;
      const imgH = (canvas.height * imgW) / canvas.width;

      if (imgH > pageH){
        const h = pageH;
        const w = (canvas.width * h) / canvas.height;
        const x = (pageW - w) / 2;
        pdf.addImage(imgData, "JPEG", x, 0, w, h);
      } else {
        const y = (pageH - imgH) / 2;
        pdf.addImage(imgData, "JPEG", 0, y, imgW, imgH);
      }
      pdf.save("newhomes-cover-a4.pdf");
    }

    bind();
    initDefaults();
  </script>
</body>
</html>
